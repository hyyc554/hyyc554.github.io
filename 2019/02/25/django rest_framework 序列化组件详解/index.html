<!DOCTYPE html>
<html lang="zh-Hans">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="django rest_framework 序列化组件详解"/><meta name="keywords" content="Django, 逐风空间" /><link rel="alternate" href="/atom.xml" title="逐风空间"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="https://hyyc554.github.io/2019/02/25/django rest_framework 序列化组件详解/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" /><link rel="stylesheet" type="text/css" href="/lib/nprogress/nprogress.min.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":true};
</script>

    <title>django rest_framework 序列化组件详解 - 逐风空间</title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">逐风空间</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">首页
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">归档
          </li>
      </a><a href="/tags">
        <li class="mobile-menu-item">标签
          </li>
      </a><a href="/categories">
        <li class="mobile-menu-item">分类
          </li>
      </a><a href="/about">
        <li class="mobile-menu-item">关于
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">逐风空间</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            首页
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            归档
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            标签
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            分类
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about">
            关于
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">django rest_framework 序列化组件详解
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-02-25
        </span></div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#为什么要用序列化组件"><span class="toc-text">为什么要用序列化组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Django的序列化方法"><span class="toc-text">Django的序列化方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DRF序列化的方法"><span class="toc-text">DRF序列化的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#序列化"><span class="toc-text">序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外键关系的序列化"><span class="toc-text">外键关系的序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#反序列化"><span class="toc-text">反序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#验证"><span class="toc-text">验证</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ModelSerializer"><span class="toc-text">ModelSerializer</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#定义一个ModelSerializer序列化器"><span class="toc-text">定义一个ModelSerializer序列化器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外键关系的序列化-1"><span class="toc-text">外键关系的序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义字段"><span class="toc-text">自定义字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Meta中其它关键字参数"><span class="toc-text">Meta中其它关键字参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#post以及patch请求"><span class="toc-text">post以及patch请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SerializerMethodField"><span class="toc-text">SerializerMethodField</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用ModelSerializer改进上面Serializer的完整版"><span class="toc-text">用ModelSerializer改进上面Serializer的完整版</span></a>
    </div>
  </div><div class="post-content"><h4 id="为什么要用序列化组件"><a href="#为什么要用序列化组件" class="headerlink" title="为什么要用序列化组件"></a>为什么要用序列化组件</h4><p>当我们做前后端分离的项目,我们前后端交互一般都选择JSON数据格式，JSON是一个轻量级的数据交互格式。</p>
<p>那么我们给前端数据的时候都要转成json格式，那就需要对我们从数据库拿到的数据进行序列化。</p>
<p>接下来我们看下django序列化和rest_framework序列化的对比<br><a id="more"></a></p>
<h2 id="Django的序列化方法"><a href="#Django的序列化方法" class="headerlink" title="Django的序列化方法"></a>Django的序列化方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BooksView</span><span class="params">(View)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        book_list = Book.objects.values(<span class="string">"id"</span>, <span class="string">"title"</span>, <span class="string">"chapter"</span>, <span class="string">"pub_time"</span>, <span class="string">"publisher"</span>)</span><br><span class="line">        book_list = list(book_list)</span><br><span class="line">        <span class="comment"># 如果我们需要取外键关联的字段信息 需要循环获取外键 再去数据库查然后拼接成我们想要的</span></span><br><span class="line">        ret = []</span><br><span class="line">        <span class="keyword">for</span> book <span class="keyword">in</span> book_list:</span><br><span class="line">            pub_dict = &#123;&#125;</span><br><span class="line">            pub_obj = Publish.objects.filter(pk=book[<span class="string">"publisher"</span>]).first()</span><br><span class="line">            pub_dict[<span class="string">"id"</span>] = pub_obj.pk</span><br><span class="line">            pub_dict[<span class="string">"title"</span>] = pub_obj.title</span><br><span class="line">            book[<span class="string">"publisher"</span>] = pub_dict</span><br><span class="line">            ret.append(book)</span><br><span class="line">        ret = json.dumps(book_list, ensure_ascii=<span class="keyword">False</span>, cls=MyJson)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(ret)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># json.JSONEncoder.default()</span></span><br><span class="line"><span class="comment"># 解决json不能序列化时间字段的问题</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyJson</span><span class="params">(json.JSONEncoder)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">default</span><span class="params">(self, field)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(field, datetime.datetime):</span><br><span class="line">            <span class="keyword">return</span> field.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>)</span><br><span class="line">        <span class="keyword">elif</span> isinstance(field, datetime.date):</span><br><span class="line">            <span class="keyword">return</span> field.strftime(<span class="string">'%Y-%m-%d'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> json.JSONEncoder.default(self, field)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.core <span class="keyword">import</span> serializers</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 能够得到我们要的效果 结构有点复杂</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BooksView</span><span class="params">(View)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        book_list = Book.objects.all()</span><br><span class="line">        ret = serializers.serialize(<span class="string">"json"</span>, book_list)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(ret)</span><br></pre></td></tr></table></figure>
<h2 id="DRF序列化的方法"><a href="#DRF序列化的方法" class="headerlink" title="DRF序列化的方法"></a>DRF序列化的方法</h2><p>首先，我们要用DRF的序列化，就要遵循人家框架的一些标准，</p>
<ul>
<li><p>Django我们CBV继承类是View，现在DRF我们要用APIView</p>
</li>
<li><p>Django中返回的时候我们用HTTPResponse，JsonResponse，render ，DRF我们用Response</p>
</li>
</ul>
<p>为什么这么用~我们之后会详细讲我们继续来看序列化</p>
<h3 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h3><p>serializer:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField()</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    CHOICES = ((<span class="number">1</span>, <span class="string">"Linux"</span>), (<span class="number">2</span>, <span class="string">"Django"</span>), (<span class="number">3</span>, <span class="string">"Python"</span>))</span><br><span class="line">    chapter = serializers.ChoiceField(choices=CHOICES, source=<span class="string">"get_chapter_display"</span>)</span><br><span class="line">    pub_time = serializers.DateField()</span><br></pre></td></tr></table></figure>
<p>view:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.views <span class="keyword">import</span> APIView</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        book_list = Book.objects.all()</span><br><span class="line">        ret = BookSerializer(book_list, many=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">return</span> Response(ret.data)</span><br></pre></td></tr></table></figure>
<h3 id="外键关系的序列化"><a href="#外键关系的序列化" class="headerlink" title="外键关系的序列化"></a>外键关系的序列化</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Book</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PublisherSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    name = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    age = serializers.IntegerField()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    CHOICES = ((<span class="number">1</span>, <span class="string">"Linux"</span>), (<span class="number">2</span>, <span class="string">"Django"</span>), (<span class="number">3</span>, <span class="string">"Python"</span>))</span><br><span class="line">    chapter = serializers.ChoiceField(choices=CHOICES, source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line">    pub_time = serializers.DateField()</span><br><span class="line"></span><br><span class="line">    publisher = PublisherSerializer(read_only=<span class="keyword">True</span>)</span><br><span class="line">    user = UserSerializer(many=<span class="keyword">True</span>, read_only=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h3><p>当前端给我们发post的请求的时候,我们要进行一些校验然后保存到数据库</p>
<p>这些校验以及保存工作，DRF的Serializer也给我们提供了一些方法了</p>
<p>首先~我们要写反序列化用的一些字段~有些字段要跟序列化区分开</p>
<p>Serializer提供了.is_valid()  和.save()方法</p>
<p>serializers:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># serializers.py 文件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    CHOICES = ((<span class="number">1</span>, <span class="string">"Linux"</span>), (<span class="number">2</span>, <span class="string">"Django"</span>), (<span class="number">3</span>, <span class="string">"Python"</span>))</span><br><span class="line">    chapter = serializers.ChoiceField(choices=CHOICES, source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line">    w_chapter = serializers.IntegerField(write_only=<span class="keyword">True</span>)</span><br><span class="line">    pub_time = serializers.DateField()</span><br><span class="line"></span><br><span class="line">    publisher = PublisherSerializer(read_only=<span class="keyword">True</span>)</span><br><span class="line">    user = UserSerializer(many=<span class="keyword">True</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    users = serializers.ListField(write_only=<span class="keyword">True</span>)</span><br><span class="line">    publisher_id = serializers.IntegerField(write_only=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span><span class="params">(self, validated_data)</span>:</span></span><br><span class="line">        book = Book.objects.create(title=validated_data[<span class="string">"title"</span>], chapter=validated_data[<span class="string">"w_chapter"</span>], pub_time=validated_data[<span class="string">"pub_time"</span>],                                  publisher_id=validated_data[<span class="string">"publisher_id"</span>])</span><br><span class="line">        book.user.add(*validated_data[<span class="string">"users"</span>])</span><br><span class="line">        <span class="keyword">return</span> book</span><br></pre></td></tr></table></figure>
<p>view:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        book_list = Book.objects.all()</span><br><span class="line">        ret = BookSerializer(book_list, many=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">return</span> Response(ret.data)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">post</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        <span class="comment"># book_obj = request.data</span></span><br><span class="line">        print(request.data)</span><br><span class="line">        serializer = BookSerializer(data=request.data)</span><br><span class="line">        <span class="keyword">if</span> serializer.is_valid():</span><br><span class="line">            print(<span class="number">12341253</span>)</span><br><span class="line">            serializer.save()</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.validated_data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.errors)</span><br></pre></td></tr></table></figure>
<p>当前端给我们发送patch请求的时候，前端传给我们用户要更新的数据，我们要对数据进行部分验证~~</p>
<p>Serializer:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    CHOICES = ((<span class="number">1</span>, <span class="string">"Linux"</span>), (<span class="number">2</span>, <span class="string">"Django"</span>), (<span class="number">3</span>, <span class="string">"Python"</span>))</span><br><span class="line">    chapter = serializers.ChoiceField(choices=CHOICES, source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line">    w_chapter = serializers.IntegerField(write_only=<span class="keyword">True</span>)</span><br><span class="line">    pub_time = serializers.DateField()</span><br><span class="line"></span><br><span class="line">    publisher = PublisherSerializer(read_only=<span class="keyword">True</span>)</span><br><span class="line">    user = UserSerializer(many=<span class="keyword">True</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    users = serializers.ListField(write_only=<span class="keyword">True</span>)</span><br><span class="line">    publisher_id = serializers.IntegerField(write_only=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">create</span><span class="params">(self, validated_data)</span>:</span></span><br><span class="line">        book = Book.objects.create(title=validated_data[<span class="string">"title"</span>], chapter=validated_data[<span class="string">"w_chapter"</span>], pub_time=validated_data[<span class="string">"pub_time"</span>],</span><br><span class="line">                                   publisher_id=validated_data[<span class="string">"publisher_id"</span>])</span><br><span class="line">        book.user.add(*validated_data[<span class="string">"users"</span>])</span><br><span class="line">        <span class="keyword">return</span> book</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, instance, validated_data)</span>:</span></span><br><span class="line">        instance.title = validated_data.get(<span class="string">"title"</span>, instance.title)</span><br><span class="line">        instance.chapter = validated_data.get(<span class="string">"w_chapter"</span>, instance.chapter)</span><br><span class="line">        instance.pub_time = validated_data.get(<span class="string">"pub_time"</span>, instance.pub_time)</span><br><span class="line">        instance.publisher_id = validated_data.get(<span class="string">"publisher_id"</span>, instance.publisher_id)</span><br><span class="line">        <span class="keyword">if</span> validated_data.get(<span class="string">"users"</span>):</span><br><span class="line">            instance.user.set(validated_data.get(<span class="string">"users"</span>))</span><br><span class="line">        instance.save()</span><br><span class="line">        <span class="keyword">return</span> instance</span><br></pre></td></tr></table></figure>
<p>view:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookView</span><span class="params">(APIView)</span>:</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">patch</span><span class="params">(self, request)</span>:</span></span><br><span class="line">        print(request.data)</span><br><span class="line">        book_id = request.data[<span class="string">"id"</span>]</span><br><span class="line">        book_info = request.data[<span class="string">"book_info"</span>]</span><br><span class="line">        book_obj = Book.objects.filter(pk=book_id).first()</span><br><span class="line">        serializer = BookSerializer(book_obj, data=book_info, partial=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">if</span> serializer.is_valid():</span><br><span class="line">            serializer.save()</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.errors)</span><br></pre></td></tr></table></figure>
<h3 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h3><p>如果我们需要对一些字段进行自定义的验证~DRF也给我们提供了钩子方法~~</p>
<p>Serializer:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    <span class="comment"># 省略了一些字段 跟上面代码里一样的</span></span><br><span class="line">    <span class="comment"># 。。。。。</span></span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">validate_title</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">"python"</span> <span class="keyword">not</span> <span class="keyword">in</span> value.lower():</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"标题必须含有Python"</span>)</span><br><span class="line">        <span class="keyword">return</span> value</span><br></pre></td></tr></table></figure>
<p>view:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>)</span><br><span class="line">    CHOICES = ((<span class="number">1</span>, <span class="string">"Linux"</span>), (<span class="number">2</span>, <span class="string">"Django"</span>), (<span class="number">3</span>, <span class="string">"Python"</span>))</span><br><span class="line">    chapter = serializers.ChoiceField(choices=CHOICES, source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line">    w_chapter = serializers.IntegerField(write_only=<span class="keyword">True</span>)</span><br><span class="line">    pub_time = serializers.DateField()</span><br><span class="line">    date_added = serializers.DateField(write_only=<span class="keyword">True</span>)</span><br><span class="line">    <span class="comment"># 新增了一个上架时间字段  </span></span><br><span class="line">    <span class="comment"># 省略一些字段。。都是在原基础代码上增加的</span></span><br><span class="line">    <span class="comment"># 。。。。。。</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 对多个字段进行验证 要求上架日期不能早于出版日期 上架日期要大</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate</span><span class="params">(self, attrs)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> attrs[<span class="string">"pub_time"</span>] &gt; attrs[<span class="string">"date_added"</span>]:</span><br><span class="line">            <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"上架日期不能早于出版日期"</span>)</span><br><span class="line">        <span class="keyword">return</span> attrs</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_validate</span><span class="params">(value)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">"敏感词汇"</span> <span class="keyword">in</span> value.lower:</span><br><span class="line">        <span class="keyword">raise</span> serializers.ValidationError(<span class="string">"包含敏感词汇，请重新提交"</span>)</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.Serializer)</span>:</span></span><br><span class="line">    id = serializers.IntegerField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    title = serializers.CharField(max_length=<span class="number">32</span>, validators=[my_validate])</span><br><span class="line">    <span class="comment"># 。。。。。。</span></span><br></pre></td></tr></table></figure>
<h2 id="ModelSerializer"><a href="#ModelSerializer" class="headerlink" title="ModelSerializer"></a>ModelSerializer</h2><p>现在我们已经清楚了Serializer的用法，会发现我们所有的序列化跟我们的模型都紧密相关~</p>
<p>那么，DRF也给我们提供了跟模型紧密相关的序列化器<del>ModelSerializer</del></p>
<ul>
<li><p>它会根据模型自动生成一组字段</p>
</li>
<li><p>它简单的默认实现了.update()以及.create()方法</p>
</li>
</ul>
<h3 id="定义一个ModelSerializer序列化器"><a href="#定义一个ModelSerializer序列化器" class="headerlink" title="定义一个ModelSerializer序列化器"></a>定义一个ModelSerializer序列化器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Book</span><br><span class="line">        fields = <span class="string">"__all__"</span></span><br><span class="line">        <span class="comment"># fields = ["id", "title", "pub_time"]</span></span><br><span class="line">        <span class="comment"># exclude = ["user"]</span></span><br><span class="line">        <span class="comment"># 分别是所有字段 包含某些字段 排除某些字段</span></span><br></pre></td></tr></table></figure>
<h3 id="外键关系的序列化-1"><a href="#外键关系的序列化-1" class="headerlink" title="外键关系的序列化"></a>外键关系的序列化</h3><p>注意：当序列化类MATE中定义了depth时，这个序列化类中引用字段（外键）则自动变为只读</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Book</span><br><span class="line">        fields = <span class="string">"__all__"</span></span><br><span class="line">        <span class="comment"># fields = ["id", "title", "pub_time"]</span></span><br><span class="line">        <span class="comment"># exclude = ["user"]</span></span><br><span class="line">        <span class="comment"># 分别是所有字段 包含某些字段 排除某些字段</span></span><br><span class="line">        depth = <span class="number">1</span></span><br><span class="line"><span class="comment"># depth 代表找嵌套关系的第几层</span></span><br></pre></td></tr></table></figure>
<h3 id="自定义字段"><a href="#自定义字段" class="headerlink" title="自定义字段"></a>自定义字段</h3><p>我们可以声明一些字段来覆盖默认字段，来进行自定制~</p>
<p>比如我们的选择字段，默认显示的是选择的key，我们要给用户展示的是value。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    chapter = serializers.CharField(source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Book</span><br><span class="line">        fields = <span class="string">"__all__"</span></span><br><span class="line">        <span class="comment"># fields = ["id", "title", "pub_time"]</span></span><br><span class="line">        <span class="comment"># exclude = ["user"]</span></span><br><span class="line">        <span class="comment"># 分别是所有字段 包含某些字段 排除某些字段</span></span><br><span class="line">        depth = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="Meta中其它关键字参数"><a href="#Meta中其它关键字参数" class="headerlink" title="Meta中其它关键字参数"></a>Meta中其它关键字参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    chapter = serializers.CharField(source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Book</span><br><span class="line">        fields = <span class="string">"__all__"</span></span><br><span class="line">        <span class="comment"># fields = ["id", "title", "pub_time"]</span></span><br><span class="line">        <span class="comment"># exclude = ["user"]</span></span><br><span class="line">        <span class="comment"># 分别是所有字段 包含某些字段 排除某些字段</span></span><br><span class="line">        depth = <span class="number">1</span></span><br><span class="line">        read_only_fields = [<span class="string">"id"</span>]</span><br><span class="line">        extra_kwargs = &#123;<span class="string">"title"</span>: &#123;<span class="string">"validators"</span>: [my_validate,]&#125;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="post以及patch请求"><a href="#post以及patch请求" class="headerlink" title="post以及patch请求"></a>post以及patch请求</h3><p>由于depth会让我们外键变成只读，所以我们再定义一个序列化的类，其实只要去掉depth就可以了~~</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    chapter = serializers.CharField(source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Book</span><br><span class="line">        fields = <span class="string">"__all__"</span></span><br><span class="line">        <span class="comment"># fields = ["id", "title", "pub_time"]</span></span><br><span class="line">        <span class="comment"># exclude = ["user"]</span></span><br><span class="line">        <span class="comment"># 分别是所有字段 包含某些字段 排除某些字段</span></span><br><span class="line">        read_only_fields = [<span class="string">"id"</span>]</span><br><span class="line">        extra_kwargs = &#123;<span class="string">"title"</span>: &#123;<span class="string">"validators"</span>: [my_validate,]&#125;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="SerializerMethodField"><a href="#SerializerMethodField" class="headerlink" title="SerializerMethodField"></a>SerializerMethodField</h3><p>外键关联的对象有很多字段我们是用不到的~都传给前端会有数据冗余~就需要我们自己去定制序列化外键对象的哪些字段~~</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    chapter = serializers.CharField(source=<span class="string">"get_chapter_display"</span>, read_only=<span class="keyword">True</span>)</span><br><span class="line">    user = serializers.SerializerMethodField()</span><br><span class="line">    publisher = serializers.SerializerMethodField()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_user</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        <span class="comment"># obj是当前序列化的book对象</span></span><br><span class="line">        users_query_set = obj.user.all()</span><br><span class="line">        <span class="keyword">return</span> [&#123;<span class="string">"id"</span>: user_obj.pk, <span class="string">"name"</span>: user_obj.name&#125; <span class="keyword">for</span> user_obj <span class="keyword">in</span> users_query_set]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_publisher</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        publisher_obj = obj.publisher</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">"id"</span>: publisher_obj.pk, <span class="string">"title"</span>: publisher_obj.title&#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Book</span><br><span class="line">        fields = <span class="string">"__all__"</span></span><br><span class="line">        <span class="comment"># fields = ["id", "title", "pub_time"]</span></span><br><span class="line">        <span class="comment"># exclude = ["user"]</span></span><br><span class="line">        <span class="comment"># 分别是所有字段 包含某些字段 排除某些字段</span></span><br><span class="line">        read_only_fields = [<span class="string">"id"</span>]</span><br><span class="line">        extra_kwargs = &#123;<span class="string">"title"</span>: &#123;<span class="string">"validators"</span>: [my_validate,]&#125;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="用ModelSerializer改进上面Serializer的完整版"><a href="#用ModelSerializer改进上面Serializer的完整版" class="headerlink" title="用ModelSerializer改进上面Serializer的完整版"></a>用ModelSerializer改进上面Serializer的完整版</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BookSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line">    dis_chapter = serializers.SerializerMethodField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    users = serializers.SerializerMethodField(read_only=<span class="keyword">True</span>)</span><br><span class="line">    publishers = serializers.SerializerMethodField(read_only=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_users</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        <span class="comment"># obj是当前序列化的book对象</span></span><br><span class="line">        users_query_set = obj.user.all()</span><br><span class="line">        <span class="keyword">return</span> [&#123;<span class="string">"id"</span>: user_obj.pk, <span class="string">"name"</span>: user_obj.name&#125; <span class="keyword">for</span> user_obj <span class="keyword">in</span> users_query_set]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_publishers</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        publisher_obj = obj.publisher</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">"id"</span>: publisher_obj.pk, <span class="string">"title"</span>: publisher_obj.title&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_dis_chapter</span><span class="params">(self, obj)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> obj.get_chapter_display()</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Book</span><br><span class="line">        <span class="comment"># fields = "__all__"</span></span><br><span class="line">        <span class="comment"># 字段是有序的</span></span><br><span class="line">        fields = [<span class="string">"id"</span>, <span class="string">"title"</span>,<span class="string">"dis_chapter"</span>, <span class="string">"pub_time"</span>, <span class="string">"publishers"</span>, <span class="string">"users"</span>,<span class="string">"chapter"</span>, <span class="string">"user"</span>, <span class="string">"publisher"</span>]</span><br><span class="line">        <span class="comment"># exclude = ["user"]</span></span><br><span class="line">        <span class="comment"># 分别是所有字段 包含某些字段 排除某些字段</span></span><br><span class="line">        read_only_fields = [<span class="string">"id"</span>, <span class="string">"dis_chapter"</span>, <span class="string">"users"</span>, <span class="string">"publishers"</span>]</span><br><span class="line">        extra_kwargs = &#123;<span class="string">"title"</span>: &#123;<span class="string">"validators"</span>: [my_validate,]&#125;, <span class="string">"user"</span>: &#123;<span class="string">"write_only"</span>: <span class="keyword">True</span>&#125;, <span class="string">"publisher"</span>: &#123;<span class="string">"write_only"</span>: <span class="keyword">True</span>&#125;,</span><br><span class="line">                        <span class="string">"chapter"</span>: &#123;<span class="string">"write_only"</span>: <span class="keyword">True</span>&#125;&#125;</span><br></pre></td></tr></table></figure>

      </div>
      <div class="post-copyright">
    <p class="copyright-item">
      <span>原文作者: </span>
      <a href="https://hyyc554.github.io">YoungCe</a>
    </p>
    <p class="copyright-item">
      <span>原文链接: </span>
      <a href="https://hyyc554.github.io/2019/02/25/django rest_framework 序列化组件详解/">https://hyyc554.github.io/2019/02/25/django rest_framework 序列化组件详解/</a>
    </p>
    <p class="copyright-item">
      <span>许可协议: </span><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/Django/">Django</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/2019/03/12/Python 中的单例模式/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Python 中的单例模式</span>
        <span class="prev-text nav-mobile">上一篇</span>
      </a>
    <a class="next" href="/2019/01/17/狄克斯特拉算法/">
        <span class="next-text nav-default">狄克斯特拉算法</span>
        <span class="prev-text nav-mobile">下一篇</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"></div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:hyc554@outlook.com" class="iconfont icon-email" title="email"></a>
        <a href="https://github.com/hyyc554" class="iconfont icon-github" title="github"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2019<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">YoungCe</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/lib/pjax/jquery.pjax.min.js"></script>
  <script type="text/javascript" src="/lib/nprogress/nprogress.min.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
